<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Deepfake Detector - AI-Powered Face Authentication</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
</head>

<body>
    <!-- Background -->
    <div class="background">
        <div class="gradient-orb orb-1"></div>
        <div class="gradient-orb orb-2"></div>
        <div class="gradient-orb orb-3"></div>
    </div>

    <!-- Main Container -->
    <div class="container">
        <!-- Header -->
        <header class="header">
            <div class="logo">
                <svg width="40" height="40" viewBox="0 0 40 40" fill="none">
                    <path d="M20 5L5 15V25L20 35L35 25V15L20 5Z" stroke="url(#gradient)" stroke-width="2" fill="none" />
                    <circle cx="20" cy="20" r="8" fill="url(#gradient)" />
                    <defs>
                        <linearGradient id="gradient" x1="0%" y1="0%" x2="100%" y2="100%">
                            <stop offset="0%" style="stop-color:#667eea;stop-opacity:1" />
                            <stop offset="100%" style="stop-color:#764ba2;stop-opacity:1" />
                        </linearGradient>
                    </defs>
                </svg>
                <h1>Deepfake Detector</h1>
            </div>
            <p class="tagline">AI-Powered Face Authentication System</p>
        </header>

        <!-- Upload Section -->
        <div class="upload-section">
            <div class="upload-card" id="uploadCard">
                <div class="upload-icon">
                    <svg width="64" height="64" viewBox="0 0 64 64" fill="none">
                        <path d="M32 8V40M32 8L20 20M32 8L44 20" stroke="currentColor" stroke-width="4"
                            stroke-linecap="round" stroke-linejoin="round" />
                        <path d="M8 44V52C8 54.2091 9.79086 56 12 56H52C54.2091 56 56 54.2091 56 52V44"
                            stroke="currentColor" stroke-width="4" stroke-linecap="round" />
                    </svg>
                </div>
                <h2>Upload Image to Analyze</h2>
                <p>Drag & drop an image or click to browse</p>
                <input type="file" id="fileInput" accept="image/*" hidden>
                <button class="btn-primary" id="browseBtn">Browse Files</button>
                <p class="file-types">Supported: JPG, PNG, WebP, BMP</p>
            </div>
        </div>

        <!-- Result Section -->
        <div class="result-section" id="resultSection">
            <div class="result-card">
                <!-- Image Preview -->
                <div class="image-preview">
                    <img id="previewImage" src="" alt="Uploaded image">
                </div>

                <!-- Result Content -->
                <div class="result-content">
                    <div class="result-badge" id="resultBadge">
                        <span id="resultIcon"></span>
                        <span id="resultText"></span>
                    </div>

                    <!-- Explainable AI Heatmap -->
                    <div class="explanation-section">
                        <h3>üîç AI Explanation - What the Model Sees</h3>
                        <p class="explanation-desc">Red areas show where the AI focused its attention</p>
                        <div class="heatmap-container" id="heatmapContainer">
                            <img id="heatmapImage" src="" alt="AI attention heatmap">
                            <div class="heatmap-legend">
                                <span>Low attention</span>
                                <div class="legend-gradient"></div>
                                <span>High attention</span>
                            </div>
                        </div>
                    </div>

                    <div class="confidence-section">
                        <h3>Confidence Score</h3>
                        <div class="confidence-bar">
                            <div class="confidence-fill" id="confidenceFill"></div>
                            <span class="confidence-value" id="confidenceValue">0%</span>
                        </div>
                    </div>

                    <div class="probabilities-section">
                        <h3>Detailed Analysis</h3>
                        <div class="probability-item">
                            <div class="prob-label">
                                <span class="prob-icon">üö´</span>
                                <span>AI-Generated (Fake)</span>
                            </div>
                            <div class="prob-bar">
                                <div class="prob-fill fake-prob" id="fakeProb"></div>
                                <span id="fakePercent">0%</span>
                            </div>
                        </div>
                        <div class="probability-item">
                            <div class="prob-label">
                                <span class="prob-icon">‚úÖ</span>
                                <span>Authentic (Real)</span>
                            </div>
                            <div class="prob-bar">
                                <div class="prob-fill real-prob" id="realProb"></div>
                                <span id="realPercent">0%</span>
                            </div>
                        </div>
                    </div>

                    <div class="warning-section" id="warningSection">
                        <div class="warning-content" id="warningContent"></div>
                    </div>

                    <button class="btn-secondary" id="analyzeAnother">Analyze Another Image</button>
                </div>
            </div>
        </div>

        <!-- Loading Overlay -->
        <div class="loading-overlay" id="loadingOverlay">
            <div class="spinner"></div>
            <p>Analyzing image...</p>
        </div>
    </div>

    <script src="{{ url_for('static', filename='script.js') }}"></script>
</body>

</html>